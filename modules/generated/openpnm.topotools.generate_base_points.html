
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>generate_base_points &#8212; OpenPNM 2.8.2 documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/custom.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="https://www.openpnm.org">
  <img src="../../_static/openpnm_logo.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class=" collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../user_guide/index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Module Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../examples/examples.html">
  Examples
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/PMEAL/OpenPNM/issues">Issue Tracker<i class="fas fa-external-link-alt"></i></a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/PMEAL/OpenPNM/discussions">Get Help<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Quick Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/PMEAL/OpenPNM" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://openpnm.substack.com/" rel="noopener" target="_blank" title="Substack">
            <span><i class="fas fa-envelope-square"></i></span>
            <label class="sr-only">Substack</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/OpenPNM" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.add_boundary_pores.html">
   add_boundary_pores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.bond_percolation.html">
   bond_percolation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.clone_pores.html">
   clone_pores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.connect_pores.html">
   connect_pores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.conns_to_am.html">
   conns_to_am
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.dimensionality.html">
   dimensionality
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.drop_sites.html">
   drop_sites
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.extend.html">
   extend
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.filter_pores_by_z.html">
   filter_pores_by_z
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.find_clusters.html">
   find_clusters
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.find_complement.html">
   find_complement
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.find_connected_sites.html">
   find_connected_sites
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.find_connecting_bonds.html">
   find_connecting_bonds
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.find_neighbor_bonds.html">
   find_neighbor_bonds
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.find_neighbor_sites.html">
   find_neighbor_sites
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.find_path.html">
   find_path
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.find_pore_to_pore_distance.html">
   find_pore_to_pore_distance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.find_surface_pores.html">
   find_surface_pores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.from_cylindrical.html">
   from_cylindrical
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.from_spherical.html">
   from_spherical
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   generate_base_points
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.generate_voxel_image.html">
   generate_voxel_image
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.get_domain_area.html">
   get_domain_area
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.get_domain_length.html">
   get_domain_length
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.get_shape.html">
   get_shape
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.get_spacing.html">
   get_spacing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.hull_centroid.html">
   hull_centroid
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.is_fully_connected.html">
   is_fully_connected
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.iscoplanar.html">
   iscoplanar
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.isoutside.html">
   isoutside
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.ispercolating.html">
   ispercolating
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.issymmetric.html">
   issymmetric
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.istriangular.html">
   istriangular
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.istril.html">
   istril
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.istriu.html">
   istriu
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.label_faces.html">
   label_faces
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.merge_networks.html">
   merge_networks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.merge_pores.html">
   merge_pores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.plot_connections.html">
   plot_connections
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.plot_coordinates.html">
   plot_coordinates
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.plot_network_jupyter.html">
   plot_network_jupyter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.plot_networkx.html">
   plot_networkx
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.plot_tutorial.html">
   plot_tutorial
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.plot_vpython.html">
   plot_vpython
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.reflect_base_points.html">
   reflect_base_points
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.remove_isolated_clusters.html">
   remove_isolated_clusters
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.rotate_coords.html">
   rotate_coords
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.shear_coords.html">
   shear_coords
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.site_percolation.html">
   site_percolation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.stitch.html">
   stitch
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.stitch_pores.html">
   stitch_pores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.subdivide.html">
   subdivide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.template_cylinder_annulus.html">
   template_cylinder_annulus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.template_sphere_shell.html">
   template_sphere_shell
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.to_cylindrical.html">
   to_cylindrical
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.to_spherical.html">
   to_spherical
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.tri_to_am.html">
   tri_to_am
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.trim.html">
   trim
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.trim_occluded_throats.html">
   trim_occluded_throats
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="openpnm.topotools.vor_to_am.html">
   vor_to_am
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    
</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="generate-base-points">
<h1>generate_base_points<a class="headerlink" href="#generate-base-points" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="openpnm.topotools.generate_base_points">
<span class="sig-prename descclassname"><span class="pre">openpnm.topotools.</span></span><span class="sig-name descname"><span class="pre">generate_base_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/openpnm/topotools/topotools.html#generate_base_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#openpnm.topotools.generate_base_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a set of base points for passing into the Tessellation-based
Network classes.  The points can be distributed in spherical, cylindrical,
or rectilinear patterns, as well as 2D and 3D (disks and squares).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_points</strong> (<em>scalar</em>) – The number of base points that lie within the domain.  Note that the
actual number of points returned will be larger, with the extra points
lying outside the domain.</p></li>
<li><p><strong>domain_size</strong> (<em>list</em><em> or </em><em>array</em>) – <p>Controls the size and shape of the domain, as follows:</p>
<p><strong>sphere</strong> : If a single value is received, its treated as the radius
[r] of a sphere centered on [0, 0, 0].</p>
<p><strong>cylinder</strong> : If a two-element list is received it’s treated as the
radius and height of a cylinder [r, z] positioned at [0, 0, 0] and
extending in the positive z-direction.  If the z dimension is 0, a
disk of radius r is created.</p>
<p><strong>rectangle</strong> : If a three element list is received, it’s treated
as the outer corner of rectangle [x, y, z] whose opposite corner lies
at [0, 0, 0].  If the z dimension is 0, a rectangle of size X-by-Y is
created.</p>
</p></li>
<li><p><strong>density_map</strong> (<em>array</em><em>, </em><em>optional</em>) – <p>A an array that contains fractional values (0 &lt; i &lt; 1) indicating the
liklihood that a point in that region should be kept.  The size of this
array can be anything, but the shape must match the <code class="docutils literal notranslate"><span class="pre">domain_size</span></code>;
that is for a 3D network the shape of the <code class="docutils literal notranslate"><span class="pre">density_map</span></code> can be
[10, 10, 10] or [50, 50, 50], depending on how important the resolution
of the density distribution is.  For a 2D network the <code class="docutils literal notranslate"><span class="pre">density_map</span></code>
should be [10, 10].</p>
<p>When specifying a custom probabiliy map is it recommended to also set
values outside the given domain to zero.  If not, then the correct
shape will still be returned, but with too few points in it.</p>
</p></li>
<li><p><strong>reflect</strong> (<em>boolean</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the the base points are generated as specified, the reflected
about each face of the domain.  This essentially tricks the
tessellation functions into creating smoothfaces at the
boundaries once these excess pores are trimmed.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The reflection approach tends to create larger pores near the surfaces, so
it might be necessary to use the <code class="docutils literal notranslate"><span class="pre">density_map</span></code> argument to specify a
slightly higher density of points near the surfaces.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Voronoi</span></code>, <code class="docutils literal notranslate"><span class="pre">Delaunay</span></code>, <code class="docutils literal notranslate"><span class="pre">Gabriel</span></code>, and <code class="docutils literal notranslate"><span class="pre">DelunayVoronoiDual</span></code>
classes can <em>techncially</em> handle base points with spherical or cylindrical
domains, but the reflection across round surfaces does not create perfect
Voronoi cells so the surfaces will not be smooth.</p>
<p class="rubric">Examples</p>
<p>The following generates a spherical array with higher values near the core.
It uses a distance transform to create a sphere of radius 10, then a
second distance transform to create larger values in the center away from
the sphere surface.  These distance values could be further skewed by
applying a power, with values higher than 1 resulting in higher values in
the core, and fractional values smoothinging them out a bit.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openpnm</span> <span class="k">as</span> <span class="nn">op</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span> <span class="k">as</span> <span class="nn">sp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.ndimage</span> <span class="k">as</span> <span class="nn">spim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">21</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">21</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">spim</span><span class="o">.</span><span class="n">distance_transform_edt</span><span class="p">(</span><span class="n">im</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">20</span>  <span class="c1"># Create sphere of 1&#39;s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prob</span> <span class="o">=</span> <span class="n">spim</span><span class="o">.</span><span class="n">distance_transform_edt</span><span class="p">(</span><span class="n">im</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prob</span> <span class="o">=</span> <span class="n">prob</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">prob</span><span class="p">)</span>  <span class="c1"># Normalize between 0 and 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pts</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">topotools</span><span class="o">.</span><span class="n">generate_base_points</span><span class="p">(</span><span class="n">num_points</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="gp">... </span>                                        <span class="n">domain_size</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>                                        <span class="n">density_map</span><span class="o">=</span><span class="n">prob</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">net</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">DelaunayVoronoiDual</span><span class="p">(</span><span class="n">points</span><span class="o">=</span><span class="n">pts</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

</section>


              </div>
              
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, PMEAL.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>